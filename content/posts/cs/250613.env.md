---
title: "Ubuntu Environment Setup Memo"
date: 2025-06-13T10:00:00+08:00
summary: "Ubuntu & MacOS Environment Setup Memo"
draft: false

categories: ["Computer Science"]
tags: ["Environment Setup"]

cover: "https://pic.aspi-rin.top/2025/08/10a52f53c378b3a6237fd2a447b12709.jpg"

comments: true
showLicense: true
showRelated: true
---

## Account

Create a regular user with root privileges

```bash
# Operate with root account
adduser <username>
usermod -aG sudo <username>  # Add user to sudo group
# Configure passwordless sudo
visudo
# Append to end of file
<username> ALL=(ALL) NOPASSWD:ALL
```

## zsh

Install fonts first

- [MesloLGS NF Regular.ttf](https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf)
- [MesloLGS NF Bold.ttf](https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf)
- [MesloLGS NF Italic.ttf](https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf)
- [MesloLGS NF Bold Italic.ttf](https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf)

```bash
# Mac comes with it, no installation needed
sudo apt install zsh
sudo chsh -s /usr/bin/zsh $USER

# No initial configuration needed, configure later with Powerlevel10k

# oh-my-zsh, a zsh configuration framework
sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

# Powerlevel10k, an oh-my-zsh theme
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k

echo 'source ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k/powerlevel10k.zsh-theme' >>~/.zshrc

# Restart shell to enter configuration
```

Plugins

```bash
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions

git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# Enable plugins in ~/.zshrc
plugins=(git sudo z zsh-autosuggestions zsh-syntax-highlighting)
```

## Vim

Install nvim

MacOS

```bash
brew install neovim
# vim ~/.zshrc
alias vim="nvim"
```

Ubuntu

```bash
curl -LO https://github.com/neovim/neovim/releases/latest/download/nvim-linux-x86_64.tar.gz
# Raspberry Pi is Arm
curl -LO https://github.com/neovim/neovim/releases/latest/download/nvim-linux-arm64.tar.gz

sudo rm -rf /opt/nvim
sudo tar -C /opt -xzf nvim-linux-x86_64.tar.gz

# vim ~/.zshrc
export PATH="$PATH:/opt/nvim-linux-x86_64/bin"
alias vim="nvim"

# sudo nvim
sudo ln -s /opt/nvim-linux-x86_64/bin/nvim /usr/local/bin/nvim
```

[LazyVim](https://www.lazyvim.org/installation)

```bash
# required
mv ~/.config/nvim{,.bak}

git clone https://github.com/LazyVim/starter ~/.config/nvim
rm -rf ~/.config/nvim/.git
vim  # Will automatically download and install after startup
```

## Other Command Line Tools

[bat](https://github.com/sharkdp/bat): Enhanced `cat`

```bash
# macOS
brew install bat
alias cat="bat -pp"

# Linux
sudo apt install bat
alias cat='batcat -pp'
alias bat='batcat'
```

[eza](https://github.com/eza-community/eza): Enhanced `ls`
- Community-maintained fork of exa

```bash
# macOS
brew install eza
# Linux
sudo apt install eza

alias ls='eza --color=always --icons'
alias ll='eza -la --color=always --icons --git'
alias la='eza -la --color=always --icons --git'
alias lt='eza --tree --color=always --icons'
alias tree='eza --tree --color=always --icons --level=3'
alias ltree='eza -Tla --color=always --icons --git --level=2 --git-repos'
alias bigtree='eza -Tla --total-size --sort=size --color=always --icons --level=2'
```

ncdu: Interactive disk usage analyzer, enhanced `du`
- üìä Display directory and file space usage with interactive interface
- üîç Quickly locate large files/directories
- üóëÔ∏è Support direct deletion of files/directories

```bash
# macOS
brew install ncdu
# Linux
sudo apt install ncdu

cd /path/to/dir
ncdu  # Use arrow keys to browse, press d to delete selected item
```

duf: Beautiful `df`

- üåà Display all mount points in colorful tables
- üìè Support sorting by columns
- üñ• Auto-adapt to terminal width and theme

```bash
# macOS
brew install duf
duf
```

[btop](https://github.com/aristocratos/btop): Enhanced `top`

```bash
brew install btop
```

[tldr](https://github.com/tldr-pages/tldr): Skip lengthy man documentation

```bash
brew install tldr
# example
tldr tar
```

## SSH Key

Generate SSH Key on client

```bash
# Windows PowerShell
ssh-keygen -t ed25519 -C "razer-wsl" -f $env:USERPROFILE\.ssh\id_ed25519_razer_wsl

# Ubuntu & MacOS
ssh-keygen -t ed25519 -C "razer-wsl" -f ~/.ssh/id_ed25519_razer_wsl

cat ~/.ssh/id_ed25519_razer_wsl.pub
```

## Python

Just install uv and you're done

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

[**Python Environment Management with UV**](https://www.notion.so/Python-UV-21475983911e81f7805dfcc8fac22df6?pvs=21)

If you want to start a python interactive window (REPL) anytime, use `uv run python`

## Samba

Raspberry Pi PLEX server & SMB configuration

Install plex server, download Arm64 installation package from official website
```bash
sudo dpkg -i plexmediaserver_1.41.7.9823-59f304c16_arm64.deb
```

Install and configure SMB

```bash
sudo apt install samba samba-common-bin

sudo mkdir -p /media/plex
sudo chown isumi:isumi /media/plex
sudo vim /etc/samba/smb.conf
```

Append to end of SMB configuration file, can additionally set up home sharing

```
[homes]
   comment = Home Directories
   browseable = no

# By default, the home directories are exported read-only. Change the
# next parameter to 'no' if you want to be able to write to them.
   read only = no

# File creation mask is set to 0700 for security reasons. If you want to
# create files with group=rw permissions, set next parameter to 0775.
   create mask = 0775

# Directory creation mask is set to 0700 for security reasons. If you want to
# create dirs. with group=rw permissions, set next parameter to 0775.
   directory mask = 0775

# By default, \\server\username shares can be connected to by anyone
# with access to the samba server.
# The following parameter makes sure that only "username" can connect
# to \\server\username
# This might need tweaking when using external authentication schemes
   valid users = %S

[plex]
    comment = Plex Media
    path = /media/plex
    browseable = yes
    writeable = yes
    only guest = no
    create mask = 0777
    directory mask = 0777
    public = no
    valid users = isumi
```

Create SMB account and start SMB service

```bash
# isumi is an existing Linux username
sudo smbpasswd -a isumi
sudo systemctl restart smbd
sudo systemctl enable smbd
```

Access `\\IP\plex`